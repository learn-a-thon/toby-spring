###### 8장 스프링이란 무엇인가?
# 8.4. 스프링의 기술

### 제어의 역전(IoC) / 의존관계 주입(DI)

DI의 활용 방식을 살펴보면서 그 장점을 생각해보자. 

* 핵심기능의 변경
  * DI의 가장 대표적인 적용 방법은 바로 의존 대상의 구현을 바꾸는 것이다. 
  * e.g. 전략 패턴
* 핵심기능의 동적인 변경
  * DI를 잘 활용하면 애플리케이션이 동작하는 중간에 그 의존 대상을 다이내믹하게 변경할 수 있다. 
* 부가기능의 추가
  * 핵심기능은 그대로 둔 채로 부가기능을 추가할 수 있다. 
  * e.g. 데코레이터 패턴
* 인터페이스의 변경
  * 클라이언트가 사용하는 인터페이스와 실제 오브젝트 사이에 인터페이스가 일치하지 않는 경우
  * 클라이언트가 일관성 있게 사용할 수 있는 인터페이스를 정의해주고 DI를 통해 어댑터 역할을 하는 오브젝트를 이용하게 해준다.
* 프록시
  * 필요한 시점에서 실제 사용할 오브젝트를 초기화하고 리소스를 준비하게 해주는 *lazy loading*을 적용할 수 있다. 
* 템플릿과 콜백
  * 고정적인 작업 흐름과 자주 바뀌는 부분을 분리해서 템플릿과 콜백으로 만들 수 있다. 
* 싱글톤과 오브젝트 스코프
  * DI할 오브젝트의 생명주기를 제어할 수 있다. 
  * 오브젝트의 생성부터 관계설정, 이용, 소멸에 이르기까지의 모든 스코프를 자유롭게 제어할 수 있다. 
* 테스트
  * 의존 오브젝트를 대신해 스텁 또는 목 오브젝트 같은 테스트 대역을 활용할 수 있다. 

<br/>

### AOP의 적용 기법

AOP를 자바 언어에 적용하는 기법은 크게 두 가지로 분류할 수 있다. 

* 다이내믹 프록시 
  * 기존 코드에 영향을 주지 않고 부가기능을 적용하게 해주는 데코레이터 패턴을 응용 
* 언어의 확장 
  * 경우에 따라서 프록시 방식의 AOP로는 할 수 없는 작업을 위해 AspectJ를 사용해야 한다. 

<br/>

### 포터블 서비스 추상화(PSA)

PSA는 환경과 세부 기술의 변화에 관계없이 일관된 방식으로 기술에 접근할 수 있게 해준다. POJO로 개발된 코드는 특정 환경이나 구현 방식에 종속적이지 않아야 한다. 
이를 위해 스프링이 제공하는 대표적인 기술이 바로 일관성 있는 서비스 추상화 기술이다. 서비스 추상화를 위해 필요한 기술은 DI 뿐이다. 결국 
DI를 적극 활용해서 개발한다면 서비스 추상화는 자연스럽게 만들어 쓸 수 있다. 

-----

이전 글 - [*8.3. POJO 프로그래밍*](./8.3.%20POJO%20프로그래밍.md)                     
