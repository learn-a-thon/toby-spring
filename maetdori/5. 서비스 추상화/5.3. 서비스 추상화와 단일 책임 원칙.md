###### 5장 
# 5.3. 서비스 추상화와 단일 책임 원칙

이제 스프링의 트랜잭션 서비스 추상화 기법을 이용해 다양한 트랜잭션 기술을 일관된 방식으로 제어할 수 있게 됐다. 이렇게 기술과 서비스에 대한 추상화 기법을 이용하면 
특정 기술환경에 종속되지 않는 포터블한 코드를 만들 수 있다. `UserDao`와 `UserService`는 각각 담당하는 코드의 기능적인 관심에 따라 분리되고, 서로 불필요한 
영향을 주지 않으면서 독자적으로 확장이 가능하도록 만든 것이다. 같은 애플리케이션 로직을 담은 코드지만 내용에 따라 분리했다. 같은 계층에서 수평적인 분리라고 볼 수 있다.                 

트랜잭션의 추상화는 이와는 좀 다르다. 애플리케이션의 비즈니스 로직과 그 하위에서 동작하는 로우레벨의 트랜잭션 기술이라는 아예 다른 계층의 특성을 갖는 코드를 분리한 것이다.             

애플리케이션 로직의 종류에 따른 수평적인 구분이든, 로직과 기술이라는 수직적인 구분이든 모두 결합도가 낮으며, 서로 영향을 주지 않고 자유롭게 확장될 수 있는 구조를 만들 수 있는 데는 스프링의 
DI가 큰 역할을 하고 있다. DI의 가치는 이렇게 관심, 책임, 성격이 다른 코드를 깔끔하게 분리하는 데 있다.          

<br/>

### 단일 책임 원칙 

이런 적절한 분리가 가져오는 특징은 객체지향 설계의 원칙 중의 하나인 **단일 책임 원칙**<sup>Single Responsibility Principle</sup>으로 설명할 수 있다. 
하나의 모듈은 한 가지 책임을 가져야 한다는 원칙이다. 하나의 모듈이 바뀌는 이유는 한 가지여야 한다고 설명할 수도 있다.             

적절하게 책임과 관심이 다른 코드를 분리하고, 서로 영향을 주지 않도록 다양한 추상화 기법을 도입하고, 애플리케이션 로직과 기술/환경을 분리하는 등의 작업은 갈수록 복잡해지는 
엔터프라이즈 애플리케이션에는 반드시 필요하다. 이를 위한 핵심적인 도구가 바로 스프링 DI다.          

객체지향 설계와 프로그래밍의 원칙은 서로 긴밀하게 관련이 있다. 단일 책임 원칙을 잘 지키는 코드를 만들려면 인터페이스를 도입하고 이를 DI로 연결해야 하며, 그 결과로 
단일 책임 원칙뿐 아니라 개방 폐쇄 원칙도 잘 지키고, 모듈 간에 결합도가 낮아서 서로의 변경이 영향을 주지 않고, 같은 이유로 변경이 단일 책임에 집중되는 응집도 높은 코드가 나오니까 말이다.             

스프링의 DI는 모든 스프링 기술의 기반이 되는 핵심 엔진이자 원리이며, 좋은 설계와 코드를 만드는 모든 과정에서 사용되는 가장 중요한 도구다.

-----

이전 글 - [*5.2. 트랜잭션 서비스 추상화*](./5.2.%20트랜잭션%20서비스%20추상화.md)                           
